<!-- File: src/ShoukatSons.UI/Views/LabelGeneratorWindow.xaml -->
<Window x:Class="ShoukatSons.UI.Views.LabelGeneratorWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Label Generator"
        Height="540" Width="820"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="#FAFAFA"
        ShowInTaskbar="False">
    <Grid Margin="12">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header + Settings summary -->
        <DockPanel Grid.ColumnSpan="2" LastChildFill="True" Margin="0,0,0,8">
            <!-- Settings summary on the right -->
            <Border Background="#EEF3FF" CornerRadius="6" Padding="8" Margin="8,0,0,0" DockPanel.Dock="Right">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="TxtSettingsSummary"
                               Text="Settings: -"
                               Foreground="#2E3A59" />
                    <Button Content="Edit label _settings" Margin="12,0,0,0" Padding="8,4"
                            Click="EditSettings_Click"/>
                </StackPanel>
            </Border>

            <!-- Title on the left -->
            <TextBlock Text="Generate and print product labels"
                       FontSize="18" FontWeight="Bold" Foreground="#2E3A59"
                       VerticalAlignment="Center"/>
        </DockPanel>

        <!-- Left: Form -->
        <Border Grid.Row="1" Grid.Column="0" Background="White" CornerRadius="8" Padding="12" Margin="0,0,8,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Barcode fetch -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <TextBlock Text="Barcode:" Width="90" VerticalAlignment="Center"/>
                    <TextBox x:Name="TxtBarcode" Width="220" Margin="0,0,8,0"
                             ToolTip="Scan or enter the product barcode"/>
                    <Button Content="_Fetch" Width="80" Click="Fetch_Click" ToolTip="Fetch product by barcode"/>
                </StackPanel>

                <!-- Editable details -->
                <Grid Grid.Row="1" Grid.IsSharedSizeScope="True">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" SharedSizeGroup="LabelCol"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" Grid.Column="0" Text="Product name:" Margin="0,0,0,4" VerticalAlignment="Center"/>
                    <TextBox  x:Name="TxtName" Grid.Row="0" Grid.Column="1" Margin="8,0,0,4"
                              ToolTip="Product display name to print on label"/>

                    <TextBlock Grid.Row="1" Grid.Column="0" Text="Size:" Margin="0,0,0,4" VerticalAlignment="Center"/>
                    <TextBox  x:Name="TxtSize" Grid.Row="1" Grid.Column="1" Margin="8,0,0,4"
                              ToolTip="Size (e.g., S, M, L, 32, 34)"/>

                    <TextBlock Grid.Row="2" Grid.Column="0" Text="Color:" Margin="0,0,0,4" VerticalAlignment="Center"/>
                    <TextBox  x:Name="TxtColor" Grid.Row="2" Grid.Column="1" Margin="8,0,0,4"
                              ToolTip="Color (e.g., Black, Blue)"/>

                    <TextBlock Grid.Row="3" Grid.Column="0" Text="Sale price:" Margin="0,0,0,4" VerticalAlignment="Center"/>
                    <TextBox  x:Name="TxtPrice" Grid.Row="3" Grid.Column="1" Margin="8,0,0,4"
                              ToolTip="Final sale price shown on label"/>

                    <TextBlock Grid.Row="4" Grid.Column="0" Text="Shop name:" Margin="0,0,0,4" VerticalAlignment="Center"/>
                    <ComboBox x:Name="CmbShop" Grid.Row="4" Grid.Column="1" Margin="8,0,0,4" SelectedIndex="0"
                              ToolTip="Select which shop name to print">
                        <ComboBoxItem Content="ShoukatSons"/>
                        <ComboBoxItem Content="ShoukatSonsGarments"/>
                    </ComboBox>

                    <TextBlock Grid.Row="5" Grid.Column="0" Text="Secret code:" Margin="0,0,0,4" VerticalAlignment="Center"/>
                    <TextBox  x:Name="TxtSecret" Grid.Row="5" Grid.Column="1" Margin="8,0,0,4"
                              ToolTip="Optional internal code (not customer-facing)"/>

                    <StackPanel Grid.Row="6" Grid.ColumnSpan="2" Orientation="Horizontal" Margin="0,8,0,0">
                        <TextBlock Text="Total labels:" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtTotal" Width="60" Margin="8,0,20,0" Text="1"
                                 ToolTip="How many labels to generate"/>

                        <TextBlock Text="Per row:" VerticalAlignment="Center"/>
                        <TextBox x:Name="TxtPerRow" Width="60" Margin="8,0,0,0" Text="3"
                                 ToolTip="How many labels per row on paper"/>
                    </StackPanel>
                </Grid>
            </Grid>
        </Border>

        <!-- Right: Preview -->
        <Border Grid.Row="1" Grid.Column="1" Background="White" CornerRadius="8" Padding="12">
            <DockPanel LastChildFill="True">
                <TextBlock Text="Preview" FontWeight="Bold" Margin="0,0,0,8" DockPanel.Dock="Top"/>
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <Image x:Name="ImgPreview"
                           Stretch="None"
                           SnapsToDevicePixels="True"
                           RenderOptions.BitmapScalingMode="NearestNeighbor"
                           RenderOptions.EdgeMode="Aliased"
                           AutomationProperties.Name="Label preview image"/>
                </ScrollViewer>
            </DockPanel>
        </Border>

        <!-- Footer actions -->
        <StackPanel Grid.Row="2" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
            <Button Content="_Clear All" Width="100" Margin="0,0,8,0" Click="ClearAll_Click" ToolTip="Clear all fields"/>
            <Button Content="_Preview"   Width="100" Margin="0,0,8,0" Click="Preview_Click" ToolTip="Generate a preview"/>
            <Button Content="_Print"     Width="120" Margin="0,0,8,0" Click="Print_Click" ToolTip="Send to printer"/>
            <Button Content="_Close"     Width="80"  Click="Close_Click" ToolTip="Close this window"/>
        </StackPanel>
    </Grid>
</Window>